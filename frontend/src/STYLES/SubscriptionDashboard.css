:root {
  --sd-bg: #ffffff;
  --sd-border: #eef2f6;
  --sd-muted: #6b7280;
  --sd-radius: 12px;
}

.sd-overlay {
  position: fixed;
  inset: 0;
  background: rgba(10, 10, 10, 0.45);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 3000;
  padding: 24px;
  box-sizing: border-box;
}

.sd-overlay.sd-fullpage {
  background: #f9fafb;
  align-items: stretch;
  justify-content: flex-start;
  padding: 0;
  overflow-y: auto;
}

.sd-card {
  width: 100%;
  max-width: 980px;
  background: transparent;
  box-shadow: none;
  display: flex;
  flex-direction: column;
  gap: 0;
  margin: 24px auto;
}

.sd-overlay.sd-fullpage .sd-card {
  display: grid;
  grid-template-columns: 1fr 340px;
  grid-template-rows: auto 1fr;
  grid-template-areas: "header header" "content sidebar";
  gap: 24px;
}

.sd-overlay.sd-fullpage .sd-header {
  grid-area: header; padding: 0; border-bottom: none; margin-bottom: 8px;
}
.sd-overlay.sd-fullpage .sd-left {
  grid-area: content; overflow: visible; padding: 0; display: flex; flex-direction: column; gap: 18px;
}
.sd-overlay.sd-fullpage .sd-right {
  grid-area: sidebar; padding: 0; border-left: none;
}

.sd-header { display: flex; align-items: center; justify-content: space-between; background: transparent; }
.sd-header h2 { margin: 0; font-size: 1.5rem; font-weight: 700; }
.sd-close { background: transparent; border: 0; font-size: 24px; cursor: pointer; color: var(--sd-muted); padding: 6px; border-radius: 8px; }

.sd-card-inner { background: var(--sd-bg); border-radius: 16px; padding: 24px; border: 1px solid var(--sd-border); box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05); }
.sd-card-inner.sd-details { display: flex; align-items: center; justify-content: space-between; padding: 18px 24px; }
.sd-details .sd-line { display: flex; flex-direction: column; gap: 2px; align-items: center; }
.sd-details .sd-line:first-of-type { align-items: flex-start; }
.sd-details .sd-line:last-of-type { align-items: flex-end; }

.sd-small { color: var(--sd-muted); font-size: 14px; }
.sd-strong { font-weight: 600; font-size: 1rem; }

.sd-items-header { display: flex; align-items: center; justify-content: space-between; margin-bottom: 16px; gap: 8px; }
.sd-items-header h3 { margin: 0; font-size: 1.1rem; }

.sd-list {
  display: block;
  overflow-y: auto;
  padding-right: 12px;
  max-height: 350px;
}

.sd-list-row { display: flex; gap: 16px; align-items: center; margin-bottom: 18px; }
.sd-thumb { width: 60px; height: 60px; border-radius: 10px; object-fit: cover; flex-shrink: 0; border: 1px solid var(--sd-border); }
.sd-item-meta { flex: 1; display: flex; flex-direction: column; gap: 4px; }
.sd-item-name { font-weight: 600; font-size: 1rem; }
.sd-item-price { color: var(--sd-muted); font-size: 14px; }
.sd-qty { display: flex; flex-direction: column; align-items: flex-end; gap: 4px; min-width: 90px; text-align: right; }
.sd-qty-controls { display: flex; align-items: center; gap: 8px; }
.sd-qty-controls button { width: 30px; height: 30px; border-radius: 8px; border: 1px solid #e6eef2; background: #fff; cursor: pointer; }
.sd-qty-controls input { width: 48px; padding: 6px; border-radius: 8px; border: 1px solid #e6eef2; text-align: center; }
.sd-subtotal { color: var(--sd-muted); font-size: 14px; }

.sd-manage h3 { font-size: 1.1rem; margin-top: 0; margin-bottom: 16px; }
.sd-promo-plan { display: flex; align-items: center; gap: 12px; background: #f0fdf4; padding: 12px 14px; border-radius: var(--sd-radius); margin: 16px 0; }
.sd-promo-plan .sd-promo-icon { font-size: 1.2rem; }
.sd-promo-plan span { font-size: 14px; color: #15803d; }

.plan-selector { display: flex; flex-direction: column; gap: 12px; margin-bottom: 16px; }
.plan-option { display: flex; align-items: center; gap: 16px; padding: 14px; border: 2px solid var(--sd-border); border-radius: 10px; cursor: pointer; transition: all 0.2s ease; }
.plan-option:hover { border-color: #a5d6a7; }
.plan-option.selected { border-color: #2563eb; background-color: #eff6ff; }
.plan-radio { width: 20px; height: 20px; border-radius: 50%; border: 2px solid #d1d5db; display: flex; align-items: center; justify-content: center; flex-shrink: 0; transition: all 0.2s ease; }
.plan-option.selected .plan-radio { border-color: #2563eb; background-color: #2563eb; }
.plan-option.selected .plan-radio::after { content: ''; width: 8px; height: 8px; border-radius: 50%; background-color: white; }
.plan-details { display: flex; flex-direction: column; gap: 2px; }
.plan-details strong { font-weight: 600; }
.plan-details span { font-size: 14px; color: var(--sd-muted); }
.sd-note { color: var(--sd-muted); font-size: 13px; margin-top: 16px; text-align: left; }

.sd-totals { margin-top: 24px; display: flex; flex-direction: column; gap: 8px; }
.sd-totals-row { display: flex; justify-content: space-between; align-items: center; font-size: 0.9rem; }
.sd-totals-label { color: var(--sd-muted); }
.sd-totals-value { font-weight: 600; }
.sd-totals-row.sd-savings .sd-totals-value { color: #10b981; }
.sd-totals-row.sd-grand-total { margin-top: 12px; padding-top: 12px; border-top: 1px solid var(--sd-border); }
.sd-totals-row.sd-grand-total .sd-totals-label, .sd-totals-row.sd-grand-total .sd-totals-value { font-size: 1.1rem; font-weight: 700; color: #1f2937; }

.sd-btn { border: 1px solid transparent; cursor: pointer; padding: 10px 16px; font-weight: 700; border-radius: 12px; transition: transform 0.14s cubic-bezier(0.22, 0.9, 0.37, 1), box-shadow 0.14s; }
.sd-btn.sd-primary, .sd-actions-inline .sd-btn.sd-small.sd-primary { background: linear-gradient(90deg, #10b981, #34d399); color: #fff; border: none; box-shadow: 0 12px 30px rgba(16, 185, 129, 0.16); }
.sd-btn.sd-primary:hover, .sd-actions-inline .sd-btn.sd-small.sd-primary:hover { transform: translateY(-3px); box-shadow: 0 20px 46px rgba(16, 185, 129, 0.18); }
.sd-actions-inline .sd-btn.sd-small:not(.sd-primary), .sd-btn.sd-secondary { background: #fff; color: #10b981; border-color: #a7f3d0; box-shadow: none; }
.sd-actions-inline .sd-btn.sd-small:not(.sd-primary):hover, .sd-btn.sd-secondary:hover { background: #f0fdf4; border-color: #10b981; transform: translateY(-2px); }
.sd-actions-inline .sd-btn.sd-small { padding: 8px 12px; font-size: 0.9rem; }

@media (max-width: 960px) {
  .sd-overlay.sd-fullpage { padding: 1rem; }
  .sd-card { margin: 0; }
  .sd-overlay.sd-fullpage .sd-card { grid-template-columns: 1fr; grid-template-areas: "header" "content" "sidebar"; gap: 1rem; }
}
@media (max-width: 640px) {
  .sd-overlay.sd-fullpage { padding: 0; }
  .sd-card { margin: 0; padding: 0; }
  .sd-header { padding: 1rem; }
  .sd-header h2 { font-size: 1.25rem; }
  .sd-card-inner { padding: 1rem; border-radius: 0; border-left: none; border-right: none; box-shadow: none; }
  .sd-card-inner.sd-details { flex-direction: column; align-items: flex-start; gap: 1rem; }
  .sd-details .sd-line { text-align: left; align-items: flex-start; }
  .sd-items-header { flex-direction: column; align-items: flex-start; gap: 1rem; }
  .sd-actions-inline { width: 100%; display: grid; grid-template-columns: 1fr 1fr; }
}

.sd-info-btn { background: none; border: none; color: var(--sd-muted); font-size: 1rem; font-weight: 600; cursor: pointer; display: flex; align-items: center; gap: 8px; padding: 0; }
.sd-info-btn:hover { color: #10b981; }
.info-icon { display: inline-flex; align-items: center; justify-content: center; width: 20px; height: 20px; border-radius: 50%; border: 2px solid var(--sd-muted); font-weight: 700; font-size: 12px; transition: all 0.2s ease; }
.sd-info-btn:hover .info-icon { border-color: #10b981; background-color: #f0fdf4; }

.info-modal-overlay { position: fixed; inset: 0; background: rgba(10, 10, 10, 0.6); display: flex; align-items: center; justify-content: center; z-index: 4000; padding: 1rem; }
.info-modal-card { background: #fff; border-radius: 16px; padding: 24px; width: 100%; max-width: 500px; box-shadow: 0 20px 50px rgba(0,0,0,0.2); }
.info-modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; border-bottom: 1px solid var(--sd-border); padding-bottom: 1rem; }
.info-modal-header h2 { margin: 0; font-size: 1.25rem; }
.info-modal-close { background: none; border: none; font-size: 24px; cursor: pointer; color: var(--sd-muted); }
.info-modal-body p { font-size: 1rem; line-height: 1.6; margin-bottom: 1.5rem; }
.info-modal-body ul { list-style: none; padding: 0; margin-bottom: 2rem; display: flex; flex-direction: column; gap: 1rem; }
.info-modal-body li { padding-left: 2rem; position: relative; }
.info-modal-body li::before { content: 'âœ“'; color: #10b981; font-weight: 700; position: absolute; left: 0; top: 2px; }
.info-modal-body .sd-btn { width: 100%; }

.spinner-overlay, .main-spinner-overlay { position: fixed; inset: 0; background: #f9fafb; display: flex; align-items: center; justify-content: center; z-index: 5000; }
.main-spinner-overlay { background: #ffffff; z-index: 9999; }
.spinner { width: 50px; height: 50px; border: 5px solid #eef2f6; border-top-color: #10b981; border-radius: 50%; animation: spin 1s linear infinite; }
@keyframes spin { to { transform: rotate(360deg); } }

.sd-manage-footer {
  /* THIS IS THE CHANGE */
  margin-top: 24px; 
  padding-top: 24px;
  border-top: 1px solid var(--sd-border);
}
.sd-manage-footer .sd-btn {
  width: 100%;
}

.small-spinner { width: 28px; height: 28px; border: 3px solid #eef2f6; border-top-color: #10b981; border-radius: 50%; animation: spin 0.8s linear infinite; margin: 4px 0; }